	//criação de camada base osm
	var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
	maxZoom: 20,
    attribution: '© OpenStreetMap | ' + 'Desenvolvido por Edgar Dias'
	});
	//criação da camada de bairros
	var bairros = L.geoJSON(bairrosDP,{style: myStyle})
	
	.bindPopup(function (layer){
		return layer.feature.properties.nome + '<br>Circunscrição: ' + layer.feature.properties.Delegacia;
	});
	
	//criação da camada de busca (search control)
	
	
	
	//criação do mapa com coordenadas como centro, zoom e camadas <layers:osm, Delegacias>
	var map = L.map('map', {
    center: [0.020869, -51.086726],
    zoom: 12,
	
	layers: [osm, bairros]
	
	});
	
	var dpGeral = new L.LayerGroup();
	var dpCapital = new L.LayerGroup();
	// var dpCiosp = new L.LayerGroup();
	
	map.addLayer(dpGeral);
	map.addLayer(dpCapital);
	// map.addLayer(dpCiosp);
	
	map.addControl( new L.Control.Search({layer:dpGeral}));
	
	
	// map.addLayer(delegaciaEsp);
	// map.addControl( new L.Control.Search({layer:delegaciaEsp}));
	// map.addLayer(markersLayer);//já inserido acima em layer:[...]
			
	//método pertencente a leaflet-search.js
	// map.addControl( new L.Control.Search({layer:delegaciaEsp}));
	// map.addControl( new L.Control.Search({layer:delegaciaEsp}));
	
	
	
	
	for(i in delegacias) {
		let titulo = delegacias[i].titulo,
		bairro = delegacias[i].bairros,	//valor buscado
		loc = delegacias[i].coords,//posição do layer
		descricao = delegacias[i].descricao;
		nomeBairro = ""
		for (let i of bairro){
		nomeBairro = i
		marker = new L.Marker(new L.latLng(loc), {titulo:nomeBairro,title:titulo}),//Após o title, insere-se o alvo da busca, no caso os nomes dos bairros
		marker.bindPopup(`<h2><a href="http://www.policiacivil.ap.gov.br/conteudo/unidades-policiais/capital" target="_blanck" title="Clicar para visitar Site da Polícia Civil do Amapá para mais informações"><center>${titulo}<center></a></h2><p style="font-size:16px;text-align:justify;"><b>Atribuição:</b> ${descricao}</p>`);
			
		dpGeral.addLayer(marker);
				
		}			
		}
		
		// inserindo delegacias especializadas no mapa
		// for(i in delegacias) {
		// 	let titulo = delegacias[i].titulo,
		// 	descricao = delegacias[i].descricao,	//valor buscado
		// 	loc = delegacias[i].coords//posição do layer
		// 	// for (let i of titulo){
		// 	// nomeTitulo = i
		// 	// console.log(titulo)
		// 	marker = new L.Marker(new L.latLng(loc), {title: titulo});//Após o title, insere-se o alvo da busca, no caso x:os nomes dos bairros
		// 	marker.bindPopup(`<h2><a href="http://www.policiacivil.ap.gov.br/conteudo/unidades-policiais/capital" target="_blanck" title="Clicar para visitar Site da Polícia Civil do Amapá para mais informações"><center>${titulo}<center></a></h2><h3>Descrição: ${descricao}</h3>`);
				
		// 	dpCapital.addLayer(marker);
					
		// 	}			
			
			
		//layer com visibilidade sob controle do usuário
	var baseMaps = {
    	"OpenStreetMap": osm
	};

	//layer com visibilidade sob controle do usuário
	var overlayMaps = {
   	// "Delegacias de Bairro": delegacias,
	"Bairros": bairros,
	// "Delegacias da Capital": dpCapital,
	// "Delegacias Especializadas": dpCapital,
	};

		
	// adiciona o controle de layers acima definidos
	var layerControl = L.control.layers(baseMaps, overlayMaps).addTo(map);
	
	//insere escala ao final
	L.control.scale().addTo(map);
		

	
	
	
